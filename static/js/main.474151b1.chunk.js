(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),s=(a(14),a(2)),c=a(3),l=a(5),d=a(4),u=a(1),h=a(6),m=(a(15),{2:["marking","32"],0:["marking marking-x",9587],1:["marking marking-o",9711]}),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleNewMove=a.handleNewMove.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleNewMove",value:function(e){if(!this.props.active)return document.querySelector("#message1").style.display="none",document.querySelector("#message2").innerHTML="Game is already over! Reset if you want to play again.",document.querySelector("#message2").style.display="block",!1;2==this.props.marking&&this.props.onNewMove(parseInt(e.target.id))}},{key:"render",value:function(){return r.a.createElement("div",{className:"col",onClick:this.handleNewMove},r.a.createElement("div",{class:m[this.props.marking][0],id:this.props.id},String.fromCharCode(m[this.props.marking][1])))}}]),t}(r.a.Component),f=function(e){function t(e){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<3;t++){var a=3*this.props.row+t,n=this.props.boardState[a];e.push(r.a.createElement(v,{key:a+"-"+n,id:a+"-"+n,marking:n,onNewMove:this.props.onNewMove,active:this.props.active}))}return r.a.createElement("div",{className:"row"},e)}}]),t}(r.a.Component),b=(a(16),{2:["marking","32"],0:["marking marking-x",9587],1:["marking marking-o",9711]}),p=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],g={2:1,0:2,1:0},k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={boardState:new Array(9).fill(2),turn:0,active:!0,mode:"AI"},a.handleNewMove=a.handleNewMove.bind(Object(u.a)(a)),a.handleReset=a.handleReset.bind(Object(u.a)(a)),a.handleModeChange=a.handleModeChange.bind(Object(u.a)(a)),a.processBoard=a.processBoard.bind(Object(u.a)(a)),a.makeAIMove=a.makeAIMove.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"processBoard",value:function(){var e=this,t=!1;p.forEach((function(a){var n=e.state.boardState[a[0]];if(2!=n){var r=e.state.boardState.filter((function(e,t){return a.includes(t)&&e==n}));3==r.length&&(document.querySelector("#message1").innerHTML=String.fromCharCode(b[r[0]][1])+" wins!",document.querySelector("#message1").style.display="block",a.forEach((function(e){var t=e+"-"+n;document.getElementById(t).parentNode.style.background="#d4edda"})),e.setState({active:!1}),t=!0)}})),this.state.boardState.includes(2)||t?"AI"!=this.state.mode||1!=this.state.turn||t||this.makeAIMove():(document.querySelector("#message2").innerHTML="Game Over - It's a draw",document.querySelector("#message2").style.display="block",this.setState({active:!1}))}},{key:"makeAIMove",value:function(){var e=this,t=[],a=[];this.state.boardState.forEach((function(e,a){2==e&&t.push(a)})),t.forEach((function(t){var n=0;p.forEach((function(a){if(a.includes(t)){var r=0,o=0;a.forEach((function(a){0==e.state.boardState[a]?r+=1:1==e.state.boardState[a]&&(o+=1),n+=a==t?0:g[e.state.boardState[a]]})),r>=2&&(n+=10),o>=2&&(n+=20)}})),a.push(n)}));var n=0;a.reduce((function(e,t,a){return t>=e?(n=a,t):e})),this.handleNewMove(t[n])}},{key:"handleReset",value:function(e){e&&e.preventDefault(),document.querySelectorAll(".alert").forEach((function(e){return e.style.display="none"})),this.setState({boardState:new Array(9).fill(2),turn:0,active:!0})}},{key:"handleNewMove",value:function(e){var t=this;this.setState((function(t){return{boardState:t.boardState.slice(0,e).concat(t.turn).concat(t.boardState.slice(e+1)),turn:(t.turn+1)%2}}),(function(){t.processBoard()}))}},{key:"handleModeChange",value:function(e){e.preventDefault(),e.target.getAttribute("href").includes("AI")?(e.target.style.background="#d4edda",document.querySelector("#twop").style.background="none",this.setState({mode:"AI"}),this.handleReset(null)):e.target.getAttribute("href").includes("2P")&&(e.target.style.background="#d4edda",document.querySelector("#ai").style.background="none",this.setState({mode:"2P"}),this.handleReset(null))}},{key:"render",value:function(){for(var e=[],t=0;t<3;t++)e.push(r.a.createElement(f,{row:t,boardState:this.state.boardState,onNewMove:this.handleNewMove,active:this.state.active}));return r.a.createElement("div",null,r.a.createElement("div",{class:"container jumbotron",id:"container"},r.a.createElement("h3",null,"TIC TAC TOE"),r.a.createElement("p",null,r.a.createElement("a",{href:"./?AI",onClick:this.handleModeChange,id:"ai"},"Versus AI")," ","||",r.a.createElement("a",{href:"./?2P",onClick:this.handleModeChange,id:"twop"}," ","2 Players")," ","||",r.a.createElement("a",{href:"#",onClick:this.handleReset}," ","Reset board")),r.a.createElement("p",null,String.fromCharCode(b[this.state.turn][1]),"'s turn"),r.a.createElement("div",{className:"board"},e),r.a.createElement("p",{class:"alert alert-success",role:"alert",id:"message1"}),r.a.createElement("p",{class:"alert alert-info",role:"alert",id:"message2"})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.474151b1.chunk.js.map